<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <button id="button">click me</button>
    <script>
        //发送GET请求
        let button = document.getElementById("button");
        button.addEventListener('click', () => {
            ajax()
        })
        function ajax()
        {
            alert("请求已发送");
            const xhr=new XMLHttpRequest();
            xhr.open("GET","http://39.107.142.107:3000/mock/25/getText",true);
            xhr.send(null)

            xhr.onreadystatechange = function()
            {
                if(xhr.readyState==4)
                {
                    if(xhr.status==200)
                    {
                        console.log(JSON.parse(xhr.responseText));
                        console.log('请求成功');
                    }
                    else console.log('请求失败');
                }
            }
        }
        //发送POST请求
        let button = document.getElementById("button");
         button.addEventListener('click', () => {
             ajax()
         })
         let msg ={
                 "name":'levi',
                 "id":20
             }
         function ajax()
         {
             let xhr = new XMLHttpRequest();
             xhr.open("POST","http://39.107.142.107:3000/mock/25/testPost",true);
             xhr.setRequestHeader('Content-Type','application/json');
             xhr.send(JSON.stringify(msg));
             
             xhr.onreadystatechange = function()
             {
                if(xhr.readyState==4)
                {
                    if(xhr.status==200)
                    {
                        console.log(JSON.parse(xhr.responseText));
                        console.log('请求成功');
                    }
                    else console.log('请求失败');
                }
             }
         }
    </script>
</body>
</html>